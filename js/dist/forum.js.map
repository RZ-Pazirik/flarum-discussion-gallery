{"version":3,"file":"forum.js","mappings":"kDAAA,MAAM,EAA+BA,OAAOC,KAAKC,OAAO,iBCAlD,EAA+BF,OAAOC,KAAKC,OAAO,mC,ICMpDC,EACAC,E,UAIJC,EAAAA,EAAAA,QAAOC,IAAAA,UAA0B,UAAU,WAmE3C,IAAkBC,IAhELC,KAAKC,MAAMF,GAiEpBG,EAAEC,QAAQ,CACNC,OAAQ,MACRC,IAAK,uCACLC,OAAO,EACPC,iBAAiB,EACjBC,OAAQ,CAACT,GAAIA,EAAIU,MA/Eb,MAiFPC,MAAK,SAASC,GAnDnB,IAAsBC,EAEdC,EAFcD,EAoDSD,EAAOG,KAlD9BD,EAAS,IAAIE,MAEjBH,EAAWI,SAAQ,SAAAC,GACfJ,EAAOK,KACHhB,EAAE,KAAM,CAAC,EAAG,CACRA,EAAE,IAAK,CAAEiB,KAAMF,GAAW,CACtBf,EAAE,MAAO,CAAEkB,IAAKH,QAIhC,IAwCItB,EAtCGO,EAAE,MAAO,CAAEmB,MAAO,iBAAmB,CACxCnB,EAAE,KAAM,CAAC,EAAG,cACZA,EAAE,KAAM,CAAC,EAAGW,GACZX,EAAE,SAAU,CACRoB,QAAO,WAYXC,EAAE,yBAAyBC,SAAS,aACpC5B,EAAkB2B,EAAE,6BAA6BE,OACjDF,EAAE,yBAAyBE,KAAK,YAAYC,YAAY,YAAYC,SAAS,UAC7EJ,EAAE,6BAA6BE,KAAK,aAEpCF,EAAE,yBAAyBE,KAAK,gBAAgBC,YAAY,UAAUC,SAAS,YAC/EJ,EAAE,6BAA6BE,KAAK7B,GAhBhC,EACAyB,MAAO,YACR,iBA+BP,IAxEAO,QAAQC,IAAI,OAEhB,KAKAhC,EAAAA,EAAAA,QAAOC,IAAAA,UAA0B,gBAAgB,SAASgC,GAElDA,EAAMC,IAAI,WACVD,EAAME,WAAW,UAAWrC,GAE5BmC,EAAMG,IAAI,UAAWtC,GAAU,IAGvC,G,GC9BIuC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,OACf,CCrBAJ,EAAoBO,EAAKF,IACxB,IAAIG,EAASH,GAAUA,EAAOI,WAC7B,IAAOJ,EAAiB,QACxB,IAAM,EAEP,OADAL,EAAoBU,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CAAM,ECLdR,EAAoBU,EAAI,CAACN,EAASQ,KACjC,IAAI,IAAIC,KAAOD,EACXZ,EAAoBc,EAAEF,EAAYC,KAASb,EAAoBc,EAAEV,EAASS,IAC5EE,OAAOC,eAAeZ,EAASS,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDb,EAAoBc,EAAI,CAACK,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFpB,EAAoBwB,EAAKpB,IACH,oBAAXqB,QAA0BA,OAAOC,aAC1CX,OAAOC,eAAeZ,EAASqB,OAAOC,YAAa,CAAEC,MAAO,WAE7DZ,OAAOC,eAAeZ,EAAS,aAAc,CAAEuB,OAAO,GAAO,E","sources":["webpack://@rz-pazirik/flarum-discussion-gallery/external root \"flarum.core.compat['common/extend']\"","webpack://@rz-pazirik/flarum-discussion-gallery/external root \"flarum.core.compat['forum/components/DiscussionPage']\"","webpack://@rz-pazirik/flarum-discussion-gallery/./src/forum/index.js","webpack://@rz-pazirik/flarum-discussion-gallery/webpack/bootstrap","webpack://@rz-pazirik/flarum-discussion-gallery/webpack/runtime/compat get default export","webpack://@rz-pazirik/flarum-discussion-gallery/webpack/runtime/define property getters","webpack://@rz-pazirik/flarum-discussion-gallery/webpack/runtime/hasOwnProperty shorthand","webpack://@rz-pazirik/flarum-discussion-gallery/webpack/runtime/make namespace object"],"sourcesContent":["const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionPage'];","import { extend } from 'flarum/common/extend';\nimport DiscussionPage from 'flarum/forum/components/DiscussionPage';\n\n\n//init\nvar limit = 15;\nvar gallery;\nvar discussionPosts;\n\n\n//DiscussionPage - oncreate/onupdate\nextend(DiscussionPage.prototype, 'oninit', function() {\n\n    //send get request for images\n    imageXHR(this.attrs.id, limit);\n\n    console.log('init');\n\n});\n\n\n\n//extend DiscussionPage sidebarItems with Image Gallery from the selected topic\nextend(DiscussionPage.prototype, 'sidebarItems', function(items) {\n\n    if (items.has('gallery')) {\n        items.setContent('gallery', gallery);\n    } else {\n        items.add('gallery', gallery, -200);\n    }\n\n});\n\n\n//generate gallery html\nfunction imageGallery(imageArray) {\n\n    var mArray = new Array();\n\n    imageArray.forEach(element => {\n        mArray.push(\n            m(\"li\", {}, [\n                m(\"a\", { href: element }, [\n                    m(\"img\", { src: element })\n                ])\n            ])\n        );\n    });\n\n    return m(\"div\", { class: \"topic-gallery\" }, [\n        m(\"h5\", {}, 'Képgaléria'),\n        m(\"ul\", {}, mArray),\n        m(\"button\", {\n            onclick() {\n                galleryButton();\n            },\n            class: 'inactive'\n        }, \"Megjelenítés\")\n    ]);\n\n}\n\n\n//handle gallery button\nfunction galleryButton() {\n    if ($('.topic-gallery button').hasClass('inactive')) {\n        discussionPosts = $('div.DiscussionPage-stream').html();\n        $('.topic-gallery button').html('Elrejtés').removeClass('inactive').addClass('active');\n        $('div.DiscussionPage-stream').html('teszt 1');\n    } else {\n        $('.topic-gallery button').html('Megjelenítés').removeClass('active').addClass('inactive');\n        $('div.DiscussionPage-stream').html(discussionPosts);\n    }\n}\n\n\n\n//get request\nfunction imageXHR(id, limit) {\n    m.request({\n        method: \"GET\",\n        url: \"https://m500.pazirikkft.hu/teszt.php\",\n        async: true,\n        withCredentials: true,\n        params: {id: id, limit: limit}\n    })\n    .then(function(result) {\n        gallery = imageGallery(result.data);\n    })\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};"],"names":["flarum","core","compat","gallery","discussionPosts","extend","DiscussionPage","id","this","attrs","m","request","method","url","async","withCredentials","params","limit","then","result","imageArray","mArray","data","Array","forEach","element","push","href","src","class","onclick","$","hasClass","html","removeClass","addClass","console","log","items","has","setContent","add","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value"],"sourceRoot":""}